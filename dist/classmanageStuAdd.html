<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>火种教育</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
    <meta content="Coderthemes" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico">
    <link rel="stylesheet" href="assets/css/element-ui.css">
    <link href="assets/libs/@mdi/font/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/libs/dripicons/webfont/webfont.css" rel="stylesheet" type="text/css" />
    <link href="assets/libs/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/app.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/studentArchive.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/fatstyle.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/student.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="./assets/css/manger.css">
    <link href="assets/css/index.css" rel="stylesheet" type="text/css" />
    <style>
        body {
            color: black;
        }
        select, textarea, input[type="text"], input[type="password"], input[type="datetime"], input[type="datetime-local"], input[type="date"], input[type="month"], input[type="time"], input[type="week"], input[type="number"], input[type="email"], input[type="url"], input[type="search"], input[type="tel"], input[type="color"] {
    padding: .45em 8px .35em;
    border: 1px solid #ddd;
    border-radius: 3px;
    vertical-align: middle;
    width: 60%;
    height: 30px;
}
input[type="text"]:disabled,select:disabled{
    background:#ddd;
}
        .wrapper {
            padding-top: 60px;
        }

        .navbar-custom .nav-link {
            padding: 0;
            line-height: 60px;
            color: rgba(255, 255, 255, 0.8);
        }

        .el-input__icon {
            line-height: 30px;
        }

        .el-message-box {
            width: 80%
        }

        .form-control-sm {
            padding: 0.375rem 0.75rem;
            font-size: 0.875rem;
            line-height: 1.5;
            border-radius: 0.2rem;
        }

        .navbar-custom {
            border-radius: 0;
            min-height: 60px;
            color: #fff;
            z-index: 2;
        }

        select.form-control:not([size]):not([multiple]) {
            height: auto;
        }

        @media (min-width: 992px) {
            #topnav .topbar-menu {
                padding-bottom: 0;
            }
        }

        /* .el-pagination {
            white-space: nowrap;
            padding: 2px 5px;
            color: #303133;
            overflow: auto;
            font-weight: 700;
        } */

        .el-table td,
        .el-table th {
            text-align: center;
            padding: .2rem 0;
        }

        .el-pagination {
            text-align: center;
            margin: .2rem 0;
        }
    </style>
</head>

<body>

    <!-- Navigation Bar-->
    <header id="topnav">      </header>
    <!-- End Navigation Bar-->


    <div class="wrapper" id="app">
        <div class="container-fluid" style="margin-bottom: 60px">

            <!-- Page title box -->
            <div class="page-title-box" style="    margin-right: -15px;
            margin-left: -15px;">

<div class="page-title"><i class=" mdi mdi-book-open-page-variant"></i> 课程
    <ul class="row page-ul">
        <li style="color:e #fa6900;
        border-bottom: 2px solid #fa6900;" onclick="window.location.href='class.html'">课程</li>
        <li onclick="window.location.href='publicClass.html'">公开课</li>
        <li onclick="window.location.href='classes.html'">课程包</li>
    </ul>
</div>

            </div>
            <!-- End page title box -->
            <div class="row student ">
                <div class="mainbackground fl step0" style="width:100%;">
                    <form id="studentForm" action="" novalidate="novalidate">
                        <div class="heading">
                            <h2 class="h5">学员</h2>
                            <!-- 	<div class="search">
                                            <span class="tip" style="color:red;font-size:1.2rem;padding-right:15px;"></span><input type="text" class="input-ctrl" placeholder="手机号"> <input type="button" class="btn btn-sm" value="搜索">
                                        </div> -->
                            <span class="line"></span>
                        </div>
                        <div class="mark-more">
                            <div class="main-content">
                                <div class="m-title">
                                    <h2 class="h6">基本信息</h2>
                                    <!-- <span class="more"> <a href="javascript:;" class="e saveStudent"
                                            style="display: none;">保存</a>
                                    </span> -->
                                </div>
                                <ul class="list-infos clear">

                                    <li>
                                        <p class="c">
                                            <span class="c-title">手机号<i class="iconfont ico" style="color:red">*</i></span> <span
                                                class="c-content">
                                                <input type="text" id="stuMobiles" maxlength="11" class="mobile"
                                                    name="mobile" v-model="insertStu.tel"  @blur="search_tel" value="">
                                            </span>
                                        </p>
                                    </li>


                                    <li>
                                        <p class="c">
                                            <span class="c-title">姓名<i class="iconfont ico" style="color:red">*</i></span> <span
                                                class="c-content"><input maxlength="100" class="name" name="name"
                                                    type="text" v-model="insertStu.stu_name" value=""></span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">性别<i class="iconfont ico" style="color:red">*</i></span> <span
                                                class="c-content">
                                                <input type="radio" class="sex" v-model="insertStu.sex" name="sex" value="男"
                                                    checked="checked"> 男 <input type="radio" v-model="insertStu.sex" class="sex" name="sex"
                                                    value="女"> 女
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">证件类型</span> <span class="c-content">
                                                <select name="identityTypeCode" v-model="insertStu.ID_type" class="identityTypeCode">
                                                    <option value="">请选择</option>
                                                    <option value="身份证">身份证</option>
                                                    <option value="护照">护照</option>
                                                    <option value="港澳通行证">港澳通行证</option>
                                                    <option value="台胞证">台胞证</option>
                                                    <option value="军官证">军官证</option>
                                                    <option value="士官证">士官证</option>
                                                    <option value="未确定证件">未确定证件</option>
                                                    <option value="回乡证">回乡证</option>
                                                </select>
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">证件号码</span> <span class="c-content">
                                                <input class="identityId" v-model="insertStu.ID_number" name="identityId" type="text" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">出生日期</span> <span class="c-content">
                                                <input type="text" class="birthday date-picker"
                                                     name="birthday" v-model="insertStu.birthday" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li style="display: none;">
                                        <p class="c">
                                            <span class="c-title">年龄</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.age" id="stu_Age" class="age" name="age" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">户口所在地</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.hukou_address" class="hkAddress" name="hkAddress" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">年龄</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.age" class="hkAddress" name="hkAddress" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">地址</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.province" class="hkAddress" name="hkAddress" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">详细信息(地址)</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.detail_address" class="hkAddress" name="hkAddress" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">备注</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.remarks" class="hkAddress" name="hkAddress" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">最高学历</span> <span class="c-content">
                                                <select class="educationCode" v-model="insertStu.education" name="educationCode">
                                                    <option value="">请选择</option>
                                                    <option value="大专以下">大专以下</option>
                                                    <option value="大专">大专</option>
                                                    <option value="本科">本科</option>
                                                    <option value="研究生">研究生</option>
                                                    <option value="博士生及以上">博士生及以上</option>
                                                </select>
                                            </span>
                                        </p>
                                    </li>

                                    <li>
                                        <p class="c">
                                            <span class="c-title">项目</span> <span class="c-content">
                                                <!-- <select id="studentG1" onchange="javaScript:selectGroup2(this,'');"></select>
                                                                <select  id="studentG2"></select> -->
                                                <!-- <select class="selectLevel" @change="piliang_project" id="studentG1" v-model="insertStu.project_id"
                                                    >
                                                    <option value="">请选择</option>
                                                    <option v-for="(item,index) in projects" :value="parseInt(item.pse_id)">{{item.pse_name}}</option>
                                                </select> -->
                                                {{course_info.project_name}}
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                            <p class="c">
                                                <span class="c-title">考期</span> <span class="c-content">
                                                    <!-- <select id="studentG1" onchange="javaScript:selectGroup2(this,'');"></select>
                                                                    <select  id="studentG2"></select> -->
                            <select v-model="insertStu.exam_id" class="selectLevel" id="studentG2"
                            >
                            <option value="">请选择</option>
                            <option v-for="(item,index) in piliang_exams" :value="parseInt(item.pse_id)">{{item.pse_name}}</option>
                        </select>
    
                                                </span>
                                            </p>
                                        </li>
                                </ul>
                            </div>
                            <div class="main-content">
                                <div class="m-title">
                                    <h2 class="h6">联系信息</h2>
                                </div>
                                <ul class="list-infos clear">
                                    <li>
                                        <p class="c">
                                            <span class="c-title">办公电话</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.office_tel" class="officePhone" name="officePhone" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">紧急联系人</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.urgent_people" class="emergencyContact" name="emergencyContact"
                                                    value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">紧急联系电话</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.urgent_people_tel" class="emergencyPhone" name="emergencyPhone"
                                                    value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">邮箱</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.email" class="email" name="email" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">QQ号</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.qq" class="qq" name="qq" value="">
                                            </span>
                                        </p>
                                    </li>
                                    <li>
                                        <p class="c">
                                            <span class="c-title">微信</span> <span class="c-content">
                                                <input type="text" v-model="insertStu.wechat" class="weixinId" name="weixinId" value="">
                                            </span>
                                        </p>
                                    </li>
                                </ul>
                            </div>
                            <!-- <div class="m-bo text-center">
                                <a href="javascript:;" class="btn btn-sm btn-default cancle">取消</a> <a
                                    href="javascript:void(0);" id="saveStuInfo"
                                    class="btn btn-sm btn-primary nextstep">下一步</a>
                            </div> -->
                        </div>
                    </form>
                </div>
                <div class="mainbackground fl step2" style="width:100%;">
                    <!-- <div class="heading">
                        <h2 class="h5">选择课程</h2>
                        <div class="user-infos">
                            <span class="user_name"></span> <span class="user_mobile"></span>
                        </div>
                        <span class="line"></span>
                    </div> -->
                    <div class="main-content payMasterInfo">
                        <div class="m-title">
                            <h2 class="h6">订单信息</h2>
                        </div>
                        <ul class="list-infos clear">
                            <li>
                                <p class="c">
                                    <span class="c-title">学科</span> <span class="c-content">
                                        <span>{{course_info.project_name}}</span>
                                    </span>
                                </p>
                            </li>
                            <li>
                                <p class="c">
                                    <span class="c-title">学科小类</span> <span class="c-content">
                                        <span>{{course_info.subject_name}}</span>
                                    </span>
                                </p>
                            </li>
                            <li>
                                <p class="c">
                                    <span class="c-title">学习课程</span> <span class="c-content">
                                        <span>{{course_info.course_name}}</span>
                                    </span>
                                </p>
                            </li>
                            <li>
                                <p class="c">
                                    <span class="c-title">总 课 时</span> <span class="c-content totalClassHour">{{course_info.total_hours}}</span>
                                </p>
                            </li>
                            <li>
                                <p class="c">
                                    <span class="c-title">授课类型</span> <span class="c-content resouceType">{{course_info.course_type}}</span>
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="mainbackground fl step3" style="width:100%;">

                    <div class="main-content">
                        <div class="m-title">
                            <h2 class="h6">应缴费用</h2>
                        </div>
                        <ul class="list-infos clear">
                            <li>
                                <p class="c">
                                    <span class="c-title">培训费用</span> <span class="c-content trainingFee">{{course_info.special_price}}</span>
                                </p>
                            </li>
                            <li>
                                <p class="c">
                                    <span class="c-title">总价</span> <span class="c-content totalAmount">{{course_info.special_price}}</span>
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div class="main-content payInfo">
                        <div class="m-title">
                            <h2 class="h6">缴费</h2>
                            <span class="more" style="display:none;">

                                <b style="color:red;">欠缴</b>
                                <b class="needPay" style="color:red;"></b>
                            </span>
                        </div>
                        <div class="pay-list clear">
                            <div class="pay-order">
                                <span><input type="radio" name="payType" value="ALL" checked=""> 全款</span>

                            </div>
                            <div class="pay-list-left">
                                <p>本期</p>
                            </div>
                            <div class="pay-list-right">
                                <p class="c">
                                    <span class="p-title">POS：</span> <span class="p-content">￥
                                        <input id="pos" v-model="insertStu.pos" class="money" type="text" placeholder="输入金额">
                                    </span>
                                </p>
                                <p class="c">
                                    <span class="p-title">现金：</span> <span class="p-content">￥
                                        <input id="cash" v-model="insertStu.cash" class="money" type="text" placeholder="输入金额">
                                    </span>
                                </p>
                                <p class="c">
                                    <span class="p-title">支票：</span> <span class="p-content">￥
                                        <input id="cheque" v-model="insertStu.b_check" class="money" type="text" placeholder="输入金额">
                                    </span>
                                </p>
                                <p class="c">
                                    <span class="p-title">转账：</span> <span class="p-content">￥
                                        <input id="remit" v-model="insertStu.transfer_accounts" class="money" type="text" placeholder="输入金额">
                                    </span>
                                </p>
                            </div>
                        </div>
                        <!-- 这里是分期显示的地方 -->
                        <div class="stageInfo"></div>
                        <div class="m-bo text-center">
                            <p class="c">
                                <span class="p-title">&nbsp;</span> <span class="p-content">
                                    <!-- <a href="javascript:;" class="btn btn-sm btn-default cancle">返回</a> -->
                                    <a href="javascript:;" class="btn btn-sm btn-primary nextstep" @click="submit_stu_info">确定</a>

                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div> <!-- end container -->
               <div class="v-modal" tabindex="0" v-show="model == 1" style="display:none;z-index: 43;"></div>
        <!-- <div tabindex="-1" role="dialog" v-show="model == 1" aria-modal="true" style="display:none;z-index: 44;" aria-label="提示" class="el-message-box__wrapper"
            style="">
            <div class="el-message-box" style="width: 40%;">
                <div class="el-message-box__header">
                    <div class="el-message-box__title">
                        <span></span></div><button type="button" aria-label="Close" @click="model = 0"
                        class="el-message-box__headerbtn"><i class="el-message-box__close el-icon-close"></i></button>
                </div>
                <div class="el-message-box__content">
                    当前有效期至：{{youxiaoqiZ}}
                </div>
                <div class="el-message-box__content">
                    调整有效期
                    <input type="radio" value="0" v-model="youxiaoqi_status"   name="integralFlag"><em
                    class="marg">指定日期</em>
                <input type="radio" value="1" v-model="youxiaoqi_status" name="integralFlag"><em
                    class="marg">不限日期</em>
                </div>
                <div class="el-message-box__content"  v-show="youxiaoqi_status == 0">
                   
                    <div class="el-message-box__input">
                        <div class="el-input">
                            <template>
                                  <span class="demonstration c-title">选择有效期：</span>
                                  <el-date-picker
                                    v-model="value3">
                                  </el-date-picker>
                              </template>
                        </div>
                        <div class="el-message-box__errormsg" style="visibility: hidden;"></div>
                    </div>
                </div>
                <div class="el-message-box__btns"><button  @click="model = 0" type="button"
                        class="el-button el-button--default el-button--small">
                        <span>
                            取消
                        </span></button><button @click="submit_time()" type="button"
                        class="el-button el-button--default el-button--small el-button--primary ">
                        <span>
                            确定
                        </span></button></div>
            </div>
        </div> -->
    </div>
    <!-- end wrapper -->


    <!-- Footer -->
    <footer class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 text-center">
                    2019 © 火种教育
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer -->


    <!-- /Right-bar -->


    <!-- jQuery  -->
    <script src="assets/libs/jquery/jquery.min.js"></script>
    <script src="assets/js/jquery-1.11.3.min.js"></script>
    <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/libs/jquery-slimscroll/jquery.slimscroll.min.js"></script>
    <script src="assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
    <script src="assets/libs/datatables.net-buttons/js/dataTables.buttons.min.js" type="text/javascript"></script>
    <script src="assets/libs/datatables.net-buttons/js/buttons.html5.min.js" type="text/javascript"></script>
    <script src="assets/libs/datatables.net-buttons/js/buttons.flash.min.js" type="text/javascript"></script>
    <script src="assets/libs/datatables.net-buttons/js/buttons.print.min.js" type="text/javascript"></script>
    <script src="assets/libs/datatables.net-buttons/js/buttons.colVis.min.js" type="text/javascript"></script>
    <script src="assets/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js" type="text/javascript"></script>
    <script src="assets/libs/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="assets/libs/datatables.net-select/js/dataTables.select.min.js"></script>
    <script src="assets/js/jquery.core.js"></script>
    <script src="assets/js/jquery.app.js"></script>
    <script src="assets/js/vue.min.js"></script>
    <script src="assets/js/element-ui.js"></script>
    <script>
        function downloadTemplate() {
            var url = './assets/images/学员导入模版.xls';
            window.open(url);
        }
        new Vue({
            el: '#app',
            data() {
                return {

                    currentPage: 1, //初始页
                    activeIndexa: 0,
                    activeIndexb: 0,
                    activeIndexc: 0,
                    pagesize: 10, //    每页的数据
                    model: 0,
                    piliang_exams:[],
                    projects:[],
                    insertStu:{
                        "birthday": "",
                        "qq": "",
                        "education": "",
                        "city": "",
                        "urgent_people_tel": "",
                        "sex": "男",
                        "wechat": "",
                        "urgent_people": "",
                        "ID_number": "",
                        "province": "",
                        "office_tel": "",
                        "stu_name": "",
                        "tel": "",
                        "age": '',
                        "hukou_address": "",
                        "remarks": '',
                        "detail_address":'',
                        "email": "",
                        "ID_type": "",
                        "exam_id": "",
                        'tel': '',
                        'wechat': '',
                        'stu_name': '',
                        'ID_number': '',
                        'project_id': '',
                        'exam_id': '',
                        "pos":'0',
	"cash":'0',
	"b_check":'0',
	"transfer_accounts":'0',
},
                    notice: {
                        "notice_title": "通知1",
                        "type_name": "课程001",
                        "send_time": "2019-10-09 15:48:24",
                        "notice_content": "测试通知内容001",
                        "notice_way": "邮件",
                        "user_id": "qinyu",
                        "notice_status": "1",
                        "notice_people_num": 5,
                        "notice_type": "指定通知"
                    },
                    course_info:{

                    },
                    pickerOptions: {
                        shortcuts: [{
                            text: '最近一周',
                            onClick(picker) {
                                const end = new Date();
                                const start = new Date();
                                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
                                picker.$emit('pick', [start, end]);
                            }
                        }, {
                            text: '最近一个月',
                            onClick(picker) {
                                const end = new Date();
                                const start = new Date();
                                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
                                picker.$emit('pick', [start, end]);
                            }
                        }, {
                            text: '最近三个月',
                            onClick(picker) {
                                const end = new Date();
                                const start = new Date();
                                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
                                picker.$emit('pick', [start, end]);
                            }
                        }]
                    },
                    value1: '',
                    value2: ''
                }
            },
            created() {
                let _this = this
                $(document).ready(function(){              $("#topnav").load("header.html");              }); 
                course_id = window.location.href.split('=')[1]
                $.ajax({
                    url: 'http://192.168.10.166:8080/pse/queryAllProjectInfo',
                    type: 'get',
                    // contentType: 'application/json',
                    // data: JSON.stringify(_this.stu),
                    dataType: 'json',
                    success: function (data) {
                        console.log(data)
                        _this.projects = data
                    },
                    error: function () {

                    }
                })
                $.ajax({
                    url: 'http://192.168.10.166:8080/course/singleCourseInfo',
                    type: 'get',
                    // contentType: 'application/json',
                    data: {course_id:course_id},
                    dataType: 'json',
                    success: function (data) {
                        _this.course_info = data
                                _this.piliang_project()
                    },
                    error: function () {

                    }
                })
            },
            methods: {
                submit_stu_info(){
                    var _this = this
                    console.log(_this.insertStu)
                    console.log(parseInt(_this.insertStu.pos)+parseInt(_this.insertStu.cash)+parseInt(_this.insertStu.b_check)+parseInt(_this.insertStu.transfer_accounts))
                    if(parseInt(_this.insertStu.pos)+parseInt(_this.insertStu.cash)+parseInt(_this.insertStu.b_check)+parseInt(_this.insertStu.transfer_accounts) != this.course_info.special_price){
                        _this.$notify.info({
                                    title: '提示',
                                    message: "总金额不等于班型价格",
                                    duration: 2000
                                });
                    }
                    obj = _this.insertStu
                    obj.project_id = _this.course_info.project_id
                    obj.subject_id = _this.course_info.subject_id
                    obj.course_id = parseInt(window.location.href.split('=')[1])
                    obj = JSON.parse(JSON.stringify(obj))
                    for(var k in obj){
                        if(obj[k] == ''){
                            delete obj[k]
                        }
                    }
                    $.ajax({
                        url: 'http://192.168.10.166:8080/course/insertStudentToCourse',
                        type: 'post',
                        contentType: 'application/json',
                        data: JSON.stringify(obj),
                        dataType: 'json',
                        success: function (data) {
                            console.log(data)
                            if(data.code==200){
                                _this.$notify.success({
                                    title: '提示',
                                    message: "提交成功",
                                    duration: 2000
                                });
                            }else{
                                _this.$notify.success({
                                    title: '提示',
                                    message: "提交失败",
                                    duration: 2000
                                });
                            }
                            // _this.userList = data
                            // for (let i = 0; i < _this.userList.length; i++) {
                            //     _this.userList[i].fontdesk_account_status = _this.userList[i]
                            //         .fontdesk_account_status == 1 ? '启用' : '禁用'
                            //     _this.userList[i].enrollment_status = _this.userList[i]
                            //         .enrollment_status == 1 ? '已报名' : '未报名'
                            // }
                        },
                        error: function () {
                            _this.$notify.success({
                                    title: '提示',
                                    message: "服务器错误",
                                    duration: 2000
                                });
                        }
                    })
                },
                active() {
                    this.activeIndexb = 2
                    console.log(1)
                    let _this = this
                    $.ajax({
                        url: './cn.json',
                        type: 'get',
                        // data:'',
                        dataType: 'json',
                        success: function (data) {
                            console.log(1)
                            _this.userList = data
                            // _this.userList = []

                        },
                        error: function () {

                        }
                    })
                },
                search_tel(){
                    _this = this
                    console.log(this.insertStu.tel)
                    obj={
                        tel:_this.insertStu.tel,
                        course_id:parseInt(window.location.href.split('=')[1])
                    }
                    $.ajax({
                        url: 'http://192.168.10.166:8080/course/queryTfEnrolledFromOneStudent',
                        type: 'post',
                        contentType: 'application/json',
                        data: JSON.stringify(obj),
                        dataType: 'json',
                        success: function (data) {
                            console.log(data)
                            if(data.message == '该学员已报名过此课程！'){

                                _this.$notify.info({
                                    title: '提示',
                                    message: data.message,
                                    duration: 2000
                                });
                                setTimeout(()=>{
                                    $('input').attr('disabled','true')
                                    
                                    $('input[name = mobile]').attr('disabled',false)
                                    $('select').attr('disabled','true')
                                    console.log()
                                },20)
                            }else if(JSON.stringify(data) != '{}'){
                                console.log(JSON.stringify(data) )
                                for( var k in data){
                                    _this.insertStu[k] = data[k]
                                }
                                _this.piliang_project()
                                setTimeout(()=>{
                                    $('input').attr('disabled',false)
                                    $('select').attr('disabled',false)
                                    console.log()
                                },20)
                            }else{
                                console.log('jiangshan1')
                                for( var k in _this.insertStu){
                                    if(k != 'tel' && k != 'cash' && k != 'b_check' && k != 'sex' && k != 'transfer_accounts' && k != 'pos'){
                                        _this.insertStu[k] = ''
                                    }
                                }
                                setTimeout(()=>{
                                    $('input').attr('disabled',false)
                                    $('select').attr('disabled',false)
                                    console.log()
                                },20)
                            }
                            
                            // _this.piliang_exams = data
                            // _this.userList = data
                            // for (let i = 0; i < _this.userList.length; i++) {
                            //     _this.userList[i].fontdesk_account_status = _this.userList[i]
                            //         .fontdesk_account_status == 1 ? '启用' : '禁用'
                            //     _this.userList[i].enrollment_status = _this.userList[i]
                            //         .enrollment_status == 1 ? '已报名' : '未报名'
                            // }
                        },
                        error: function () {

                        }
                    })
                },
                piliang_project(){
                    _this = this;
                    // _this.stu_info.exam_id = ''
                    $.ajax({
                    url: 'http://192.168.10.166:8080/pse/selectExamByProject',
                    type: 'get',
                    // contentType: 'application/json',
                    data: {project_id:_this.course_info.project_id},
                    dataType: 'json',
                    success: function (data) {
                        console.log(data)
                        _this.piliang_exams = data
                        // _this.userList = data
                        // for (let i = 0; i < _this.userList.length; i++) {
                        //     _this.userList[i].fontdesk_account_status = _this.userList[i]
                        //         .fontdesk_account_status == 1 ? '启用' : '禁用'
                        //     _this.userList[i].enrollment_status = _this.userList[i]
                        //         .enrollment_status == 1 ? '已报名' : '未报名'
                        // }
                    },
                    error: function () {

                    }
                })
                },
                activea(num) {
                    this.activeIndexa = num
                    this.init()
                    let _this = this
                    $.ajax({
                        url: './cn.json',
                        type: 'get',
                        // data:'',
                        dataType: 'json',
                        success: function (data) {
                            console.log(1)
                            _this.userList = data
                            _this.userList1 = data
                        },
                        error: function () {

                        }
                    })
                },
                init() {
                    this.activeIndexb = 0;
                    this.activeIndexc = 0;
                },
                handleSizeChange: function (size) {
                    this.pagesize = size;
                },
                handleCurrentChange: function (currentPage) {
                    this.currentPage = currentPage;
                },
                flexColumnWidth() {
                    return $('.el-table__header-wrapper').width() / 100 * 25
                },
                flexColumnWidthc() {
                    return $('.el-table__header-wrapper').width() / 100 * 3
                },
                flexColumnWidthd() {
                    return $('.el-table__header-wrapper').width() / 3
                },
                flexColumnWidthe() {
                    return $('.el-table__header-wrapper').width() / 6
                },
                flexColumnWidthf() {
                    return $('.el-table__header-wrapper').width() / 9
                },
                dangan(scope) {
                    console.log(scope)
                }
            }
        })
    </script>

</body>

</html>